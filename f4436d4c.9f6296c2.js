(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{129:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return u})),n.d(t,"metadata",(function(){return d})),n.d(t,"toc",(function(){return b})),n.d(t,"default",(function(){return m}));var a=n(3),o=n(7),i=(n(0),n(138)),l=n(143),s=n(140),c=n(165),r=n(166),u={title:"Collapsible"},d={unversionedId:"components/collapsible",id:"components/collapsible",isDocsHomePage:!1,title:"Collapsible",description:"This component is intended for staff-facing use only.",source:"@site/docs/components/collapsible.md",slug:"/components/collapsible",permalink:"/components/collapsible",editUrl:"https://github.com/LBHackney-IT/lbh-frontend/edit/main/docs/components/collapsible.md",version:"current",sidebar:"someSidebar",previous:{title:"Conversation",permalink:"/components/conversation"},next:{title:"Character count",permalink:"/components/character-count"}},b=[{value:"Open by default",id:"open-by-default",children:[]},{value:"Closed by default",id:"closed-by-default",children:[]}],h={toc:b};function m(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},h,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"This component is intended for staff-facing use only."))),Object(i.b)("p",null,"Use a collapsible component to organise a page with a large amount of content into sections."),Object(i.b)("p",null,"Collapsibles work best when a whole page is organised around them. Avoid using them only once on a page. They can work well in the main body of a page, or in a sidebar."),Object(i.b)("p",null,"A ",Object(i.b)("a",{parentName:"p",href:"/components/summary-list"},"summary list")," is a great way to format the content inside a collapsible."),Object(i.b)("p",null,"Do not use collapsibles for more detailed information that only some users may need. Use a ",Object(i.b)("a",{parentName:"p",href:"/components/details"},"details")," component instead."),Object(i.b)("h2",{id:"open-by-default"},"Open by default"),Object(i.b)(l.a,{mdxType:"InitAll"},Object(i.b)(s.a,{mdxType:"PreviewArea"},Object(i.b)("section",{"data-one":!0,className:"lbh-collapsible","data-module":"lbh-collapsible"},Object(i.b)("button",{"aria-expanded":"true","data-behavior":"lbh-collapsible-toggle",className:"lbh-collapsible__button"},Object(i.b)("h2",{className:"lbh-heading-h2 lbh-collapsible__heading"},"Contact details"),Object(i.b)("svg",{width:"17",height:"10",viewBox:"0 0 17 10"},Object(i.b)("path",{d:"M2 1.5L8.5 7.5L15 1.5",strokeWidth:"3"}))),Object(i.b)("div",{className:"lbh-collapsible__content","data-behavior":"lbh-collapsible-content"},Object(i.b)("dl",{class:"govuk-summary-list lbh-summary-list"},Object(i.b)("div",{class:"govuk-summary-list__row"},Object(i.b)("dt",{class:"govuk-summary-list__key"},"Name"),Object(i.b)("dd",{class:"govuk-summary-list__value"},"Firstname Lastname"),Object(i.b)("dd",{class:"govuk-summary-list__actions"},Object(i.b)("a",{class:"govuk-link",href:"#"},"Change",Object(i.b)("span",{class:"govuk-visually-hidden"}," name")))),Object(i.b)("div",{class:"govuk-summary-list__row"},Object(i.b)("dt",{class:"govuk-summary-list__key"},"Date of birth"),Object(i.b)("dd",{class:"govuk-summary-list__value"},"13/08/1980"),Object(i.b)("dd",{class:"govuk-summary-list__actions"},Object(i.b)("a",{class:"govuk-link",href:"#"},"Change",Object(i.b)("span",{class:"govuk-visually-hidden"}," date of birth")))),Object(i.b)("div",{class:"govuk-summary-list__row"},Object(i.b)("dt",{class:"govuk-summary-list__key"},"Contact information"),Object(i.b)("dd",{class:"govuk-summary-list__value"},Object(i.b)("p",{class:"govuk-body"},"email@email.com"),Object(i.b)("p",{class:"govuk-body"},"Address line 1",Object(i.b)("br",null),"Address line 2",Object(i.b)("br",null),"Address line 3")),Object(i.b)("dd",{class:"govuk-summary-list__actions"},Object(i.b)("a",{class:"govuk-link",href:"#"},"Change",Object(i.b)("span",{class:"govuk-visually-hidden"}," contact information"))))))))),Object(i.b)(c.a,{defaultValue:"html",values:[{label:"HTML",value:"html"},{label:"React",value:"react"}],mdxType:"Tabs"},Object(i.b)(r.a,{value:"html",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},'<section class="lbh-collapsible" data-module="lbh-collapsible">\n  <button\n    aria-expanded="true"\n    data-behavior="lbh-collapsible-toggle"\n    class="lbh-collapsible__button"\n  >\n    <h2 class="lbh-heading-h2 lbh-collapsible__heading">Contact details</h2>\n    <svg width="17" height="10" viewBox="0 0 17 10">\n      <path d="M2 1.5L8.5 7.5L15 1.5" stroke-width="3" />\n    </svg>\n  </button>\n  <div class="lbh-collapsible__content" data-behavior="lbh-collapsible-content">\n    Content here\n  </div>\n</section>\n'))),Object(i.b)(r.a,{value:"react",mdxType:"TabItem"},Object(i.b)("p",null,"You may prefer to control the behaviour of the component with a ",Object(i.b)("inlineCode",{parentName:"p"},"useState")," hook, rather than relying on the built-in imperative JS."),Object(i.b)("p",null,"If you do this, you can remove the ",Object(i.b)("inlineCode",{parentName:"p"},"data-module")," and ",Object(i.b)("inlineCode",{parentName:"p"},"data-behaviour")," attributes."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-jsx"},'const React, { useState } from "react";\n\nconst MyCollapsible = ({ children }) => {\n\n    const [open, setOpen] = useState(true);\n\n    return (\n        <section className="lbh-collapsible">\n            <button\n                aria-expanded={open}\n                className="lbh-collapsible__button"\n                onClick={() => setOpen(!open)}\n            >\n                <h2 className="lbh-heading-h2 lbh-collapsible__heading">\n                    Contact details\n                </h2>\n                <svg width="17" height="10" viewBox="0 0 17 10">\n                    <path d="M2 1.5L8.5 7.5L15 1.5" strokeWidth="3"/>\n                </svg>\n            </button>\n            <div className="lbh-collapsible__content" hidden={!open}>\n                {children}\n            </div>\n        </section>\n    );\n}\n\nexport default MyCollapsible;\n')))),Object(i.b)("h2",{id:"closed-by-default"},"Closed by default"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},'<section class="lbh-collapsible" data-module="lbh-collapsible">\n  <button\n    aria-expanded="false"\n    data-behavior="lbh-collapsible-toggle"\n    class="lbh-collapsible__button"\n  >\n    <h2 class="lbh-heading-h2 lbh-collapsible__heading">Contact details</h2>\n    <svg width="17" height="10" viewBox="0 0 17 10">\n      <path d="M2 1.5L8.5 7.5L15 1.5" stroke-width="3" />\n    </svg>\n  </button>\n  <div\n    class="lbh-collapsible__content"\n    data-behavior="lbh-collapsible-content"\n    hidden\n  >\n    Content here\n  </div>\n</section>\n')))}m.isMDXComponent=!0},140:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){var t=e.height,n=e.children;return o.a.createElement("div",{className:"preview-area",style:{height:t}},n)}},141:function(e,t,n){"use strict";function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o}},143:function(e,t,n){"use strict";var a=n(0);t.a=function(e){var t=e.children;return Object(a.useEffect)((function(){"undefined"!=typeof window&&n(144).initAll()}),[]),t}},144:function(e,t,n){"use strict";n.r(t),n.d(t,"initAll",(function(){return D})),n.d(t,"Accordion",(function(){return l})),n.d(t,"BackToTop",(function(){return r})),n.d(t,"Button",(function(){return d})),n.d(t,"CharacterCount",(function(){return h})),n.d(t,"Checkboxes",(function(){return p})),n.d(t,"CookieBanner",(function(){return y})),n.d(t,"Details",(function(){return O})),n.d(t,"ErrorSummary",(function(){return w})),n.d(t,"Map",(function(){return $})),n.d(t,"Radios",(function(){return S})),n.d(t,"Tabs",(function(){return E})),n.d(t,"Collapsible",(function(){return I}));var a=n(151),o=n.n(a),i=n(152),l=n.n(i).a,s=n(160);function c(e){this.$module=e}c.prototype.checkScrollPosition=function(e){var t=window.innerHeight,n=t>480?480:t;window.scrollY>n?e.classList.add("lbh-back-to-top--visible"):e.classList.remove("lbh-back-to-top--visible")},c.prototype.init=function(){if(this.$module){var e=Object(s.a)(this.checkScrollPosition,200),t=this.$module;window.addEventListener("scroll",(function(){e(t)}))}};var r=c,u=n(153),d=n.n(u).a,b=n(154),h=n.n(b).a,m=n(155),p=n.n(m).a,v="seen_cookie_message",f=void 0===window.dropCookie||window.dropCookie;function g(e){this.$module=e,this.$button=this.$module.querySelector('[data-behavior="lbh-cookie-close"]')}g.prototype.checkCookies=function(){for(var e=v+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var a=t[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null},g.prototype.showCookieBanner=function(){this.$module.style.display="block",this.bindAcceptButton()},g.prototype.bindAcceptButton=function(){var e=this.$module;this.$button.addEventListener("click",(function(){var t=new Date;t.setTime(t.getTime()+31536e6);var n="; expires="+t.toGMTString();f&&(document.cookie=v+"=true"+n+"; path=/"),e.style.display="none"}))},g.prototype.init=function(){return!!this.$module&&("true"!==this.checkCookies()&&void this.showCookieBanner())};var y=g,k=n(156),O=n.n(k).a,j=n(157),w=n.n(j).a;if(window.L=window.L||{},L!=={})var _=L.map,x=L.control,C=L.tileLayer,A=L.icon,N=L.marker;function T(e){this.$module=e,this.moduleId=this.$module.getAttribute("id"),this.accessToken=this.$module.getAttribute("data-access-token"),this.map=null,this.markerLat=this.$module.getAttribute("data-marker-lat")||null,this.markerLng=this.$module.getAttribute("data-marker-lng")||null,this.centreLat=this.$module.getAttribute("data-centre-lat")||this.markerLat||51.549,this.centreLng=this.$module.getAttribute("data-centre-lng")||this.markerLng||-.077928,this.maxZoom=this.$module.getAttribute("data-max-zoom")||19,this.minZoom=this.$module.getAttribute("data-min-zoom")||12,this.initialZoom=this.$module.getAttribute("data-initial-zoom")||15,this.showZoomControl=this.$module.getAttribute("data-show-zoom-control")||!0,this.minLat=this.$module.getAttribute("data-min-lat")||51.491112,this.minLng=this.$module.getAttribute("data-min-lng")||-.275464,this.maxLat=this.$module.getAttribute("data-max-lat")||51.607351,this.maxLng=this.$module.getAttribute("data-max-lng")||.096129}T.prototype.initLeaflet=function(){this.map=_(this.moduleId,{zoomControl:!1,maxZoom:this.maxZoom,minZoom:this.minZoom,center:[this.centreLat,this.centreLng],zoom:this.initialZoom}),this.showZoomControl&&x.zoom({position:"topright"}).addTo(this.map)},T.prototype.setBounds=function(){this.map.setMaxBounds([[this.minLat,this.minLng],[this.maxLat,this.maxLng]])},T.prototype.initMapboxTiles=function(){var e=C("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{fadeAnimation:!1,opacity:1,attribution:'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://mapbox.com">Mapbox</a>',maxZoom:this.maxZoom,id:"mapbox.streets",accessToken:this.accessToken});this.map.addLayer(e)},T.prototype.addMarker=function(){if(null!==this.markerLat&&null!==this.markerLng){var e=A({iconUrl:"../../../assets/images/contact/map-marker.svg",iconSize:[48,48],iconAnchor:[24,48]});N([this.markerLat,this.markerLng],{icon:e}).addTo(this.map)}},T.prototype.init=function(){this.$module&&L!={}&&(this.initLeaflet(),this.setBounds(),this.initMapboxTiles(),this.addMarker())};var $=T,M=n(158),S=n.n(M).a,B=n(159),E=n.n(B).a;function z(e){this.$module=e}z.prototype.init=function(){var e=this.$module.querySelector('[data-behavior="lbh-collapsible-toggle"]'),t=this.$module.querySelector('[data-behavior="lbh-collapsible-content"]');e.addEventListener("click",(function(){return function(e,t){t.hasAttribute("hidden")?(t.removeAttribute("hidden"),e.setAttribute("aria-expanded",!0)):(t.setAttribute("hidden",""),e.setAttribute("aria-expanded",!1))}(e,t)}))};var I=z;function Z(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(window,e[n],n,e)}function D(e){e=void 0!==e?e:{},o.a.initAll();var t=void 0!==e.scope?e.scope:document,n=t.querySelector('[data-module="lbh-cookie-banner"]');n&&new y(n).init(),Z(t.querySelectorAll('[data-module="lbh-map"]'),(function(e){new $(e).init()}));var a=t.querySelector('[data-module="lbh-back-to-top"]');a&&new r(a).init(),Z(t.querySelectorAll('[data-module="lbh-collapsible"]'),(function(e){new I(e).init()}))}},149:function(e,t,n){"use strict";var a=n(0),o=n(150);t.a=function(){var e=Object(a.useContext)(o.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},150:function(e,t,n){"use strict";var a=n(0),o=Object(a.createContext)(void 0);t.a=o},165:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(149),l=n(141),s=n(57),c=n.n(s),r=37,u=39;t.a=function(e){var t=e.lazy,n=e.block,s=e.defaultValue,d=e.values,b=e.groupId,h=e.className,m=Object(i.a)(),p=m.tabGroupChoices,v=m.setTabGroupChoices,f=Object(a.useState)(s),g=f[0],y=f[1],k=a.Children.toArray(e.children);if(null!=b){var O=p[b];null!=O&&O!==g&&d.some((function(e){return e.value===O}))&&y(O)}var j=function(e){y(e),null!=b&&v(b,e)},w=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(l.a)("tabs",{"tabs--block":n},h)},d.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":g===t,className:Object(l.a)("tabs__item",c.a.tabItem,{"tabs__item--active":g===t}),key:t,ref:function(e){return w.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case u:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case r:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(w,e.target,e)},onFocus:function(){return j(t)},onClick:function(){j(t)}},n)}))),t?Object(a.cloneElement)(k.filter((function(e){return e.props.value===g}))[0],{className:"margin-vert--md"}):o.a.createElement("div",{className:"margin-vert--md"},k.map((function(e,t){return Object(a.cloneElement)(e,{key:t,hidden:e.props.value!==g})}))))}},166:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){var t=e.children,n=e.hidden,a=e.className;return o.a.createElement("div",{role:"tabpanel",hidden:n,className:a},t)}}}]);