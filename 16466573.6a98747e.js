(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{138:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n(0),r=n.n(i);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),b=i,m=u["".concat(o,".").concat(b)]||u[b]||d[b]||a;return n?r.a.createElement(m,c(c({ref:t},l),{},{components:n})):r.a.createElement(m,c({ref:t},l))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,o[1]=c;for(var l=2;l<a;l++)o[l]=n[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},70:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return p}));var i=n(3),r=n(7),a=(n(0),n(138)),o={title:"Using it with React"},c={unversionedId:"developing/react",id:"developing/react",isDocsHomePage:!1,title:"Using it with React",description:"While the design system doesn't use React components, it is fully compatible with them. In fact, this documentation website is a React app.",source:"@site/docs/developing/react.md",slug:"/developing/react",permalink:"/developing/react",editUrl:"https://github.com/LBHackney-IT/lbh-frontend/edit/main/docs/developing/react.md",version:"current",sidebar:"someSidebar",previous:{title:"Browser support",permalink:"/developing/browser-support"},next:{title:"Blank page template",permalink:"/developing/page-template"}},s=[{value:"Setting it up",id:"setting-it-up",children:[{value:"Modify your class names",id:"modify-your-class-names",children:[]},{value:"Client-side routing",id:"client-side-routing",children:[]},{value:"Server-side rendering",id:"server-side-rendering",children:[]}]},{value:"Building components with complex interactions and logic",id:"building-components-with-complex-interactions-and-logic",children:[]},{value:"Why is there no React component library any more?",id:"why-is-there-no-react-component-library-any-more",children:[]}],l={toc:s};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(a.b)("div",{parentName:"div",className:"admonition-heading"},Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",{parentName:"h5",className:"admonition-icon"},Object(a.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(a.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(a.b)("div",{parentName:"div",className:"admonition-content"},Object(a.b)("p",{parentName:"div"},"While the design system doesn't use React components, it ",Object(a.b)("em",{parentName:"p"},"is")," fully compatible with them. In fact, ",Object(a.b)("a",{parentName:"p",href:"https://v2.docusaurus.io/"},"this documentation website")," is a React app."))),Object(a.b)("p",null,"If you're reading this, you're probably trying to use the design system with ",Object(a.b)("a",{parentName:"p",href:"https://nextjs.org/"},"Next.js")," or a similar kind of React app."),Object(a.b)("p",null,"The design system can save you a lot of time and effort in making your React components look right. But, if you need complex pre-made components that have lots of stateful client-side functionality, you're better off ",Object(a.b)("a",{parentName:"p",href:"#building-components-with-complex-interactions-and-logic"},"going elsewhere"),"."),Object(a.b)("h2",{id:"setting-it-up"},"Setting it up"),Object(a.b)("h3",{id:"modify-your-class-names"},"Modify your class names"),Object(a.b)("p",null,"React doesn't support the ",Object(a.b)("inlineCode",{parentName:"p"},"class")," attribute, so you'll need to replace all instances with ",Object(a.b)("inlineCode",{parentName:"p"},"className")," instead."),Object(a.b)("h3",{id:"client-side-routing"},"Client-side routing"),Object(a.b)("p",null,"All components need to be initialised before their JavaScript features will work. The init function must be called ",Object(a.b)("em",{parentName:"p"},"after")," the HTML has been rendered to the page."),Object(a.b)("p",null,"On a server-rendered page this is straightforward, but on a client-rendered React app you must remember to re-initialise the JS whenever you render new components."),Object(a.b)("p",null,"One option is to call the component's init function in a ",Object(a.b)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-effect.html"},Object(a.b)("inlineCode",{parentName:"a"},"useEffect"))," hook after it renders. For example:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-jsx"},'useEffect(() => {\n  if (typeof window !== "undefined") {\n    require("lbh-frontend").initAll()\n  }\n}, [])\n')),Object(a.b)("h3",{id:"server-side-rendering"},"Server-side rendering"),Object(a.b)("p",null,"If you're using a SSR framework like Next.js, you might see errors like ",Object(a.b)("inlineCode",{parentName:"p"},"document is not defined"),"."),Object(a.b)("p",null,"This is because Next will automatically try to compile the JavaScript to run on the server as well as the client."),Object(a.b)("p",null,"You can solve this issue by wrapping your component init calls in an ",Object(a.b)("inlineCode",{parentName:"p"},"if")," statement that checks the global window variable is set:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-jsx"},'if (typeof window !== "undefined") {\n  require("lbh-frontend").initAll()\n}\n')),Object(a.b)("h2",{id:"building-components-with-complex-interactions-and-logic"},"Building components with complex interactions and logic"),Object(a.b)("p",null,"This design system doesn't include many components that users need to have complex, stateful interactions with (yet)."),Object(a.b)("p",null,"If you need to build something more powerful, you are better off ignoring the JavaScript this library comes with and using our CSS classes to skin a React component instead."),Object(a.b)("p",null,"There are plenty of well-maintained, accessible-by-default React libraries to choose from:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://reach.tech/"},"Reach UI")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://github.com/surevine/govuk-react-jsx"},"GOV.UK React JSX"))),Object(a.b)("p",null,"This advice might change as the design system grows."),Object(a.b)("h2",{id:"why-is-there-no-react-component-library-any-more"},"Why is there no React component library any more?"),Object(a.b)("p",null,"In the past Hackney has tried to make React ports of this design system, but it's always been more trouble than it's worth to maintain them."),Object(a.b)("p",null,"The alternative would be to go all-in with React, but this wouldn't work for the many non-React apps we still need to maintain."),Object(a.b)("p",null,"The design system includes two components that only work with React: the ",Object(a.b)("a",{parentName:"p",href:"/components/dialog"},"dialog")," and ",Object(a.b)("a",{parentName:"p",href:"/components/tip"},"tip"),"."))}p.isMDXComponent=!0}}]);